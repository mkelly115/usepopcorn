{"ast":null,"code":"import{useEffect,useState,useRef}from\"react\";import StarRating from\"./StarRating\";import{useMovies}from\"./useMovies\";import{useLocalStorageState}from\"./useLocalStorageState\";import{useKey}from\"./useKey\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const average=arr=>arr.reduce((acc,cur,i,arr)=>acc+cur/arr.length,0);const KEY=process.env.REACT_APP_IMDB_API_KEY;export default function App(){const[query,setQuery]=useState(\"\");const[selectedId,setSelectedId]=useState(null);const{movies,isLoading,error}=useMovies(query);const[watched,setWatched]=useLocalStorageState([],\"watched\");function handleSelectMovie(id){setSelectedId(selectedId=>id===selectedId?null:id);}function handleCloseMovie(){setSelectedId(null);}function handleAddWatched(movie){setWatched(watched=>[...watched,movie]);}function handleDeleteWatched(id){setWatched(watched=>watched.filter(movie=>movie.imdbID!==id));}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(NavBar,{children:[/*#__PURE__*/_jsx(Search,{query:query,setQuery:setQuery}),/*#__PURE__*/_jsx(NumResults,{movies:movies})]}),/*#__PURE__*/_jsxs(Main,{children:[/*#__PURE__*/_jsxs(Box,{children:[isLoading&&/*#__PURE__*/_jsx(Loader,{}),!isLoading&&!error&&/*#__PURE__*/_jsx(MovieList,{movies:movies,onSelectMovie:handleSelectMovie}),error&&/*#__PURE__*/_jsx(ErrorMessage,{message:error})]}),/*#__PURE__*/_jsx(Box,{children:selectedId?/*#__PURE__*/_jsx(MovieDetails,{selectedId:selectedId,onCloseMovie:handleCloseMovie,onAddWatched:handleAddWatched,watched:watched}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(WatchedSummary,{watched:watched}),/*#__PURE__*/_jsx(WatchedMovieList,{watched:watched,onDeleteWatched:handleDeleteWatched})]})})]})]});}function Loader(){return/*#__PURE__*/_jsx(\"p\",{className:\"loader\",children:\"Loading...\"});}function ErrorMessage(_ref){let{message}=_ref;return/*#__PURE__*/_jsxs(\"p\",{className:\"error\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"!!\"}),message]});}function NavBar(_ref2){let{children}=_ref2;return/*#__PURE__*/_jsxs(\"nav\",{className:\"nav-bar\",children:[/*#__PURE__*/_jsx(Logo,{}),children]});}function Logo(){return/*#__PURE__*/_jsxs(\"div\",{className:\"logo\",children:[/*#__PURE__*/_jsx(\"span\",{role:\"img\",children:\"\\uD83C\\uDF7F\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"TeFlix - Movie Rating\"})]});}function NumResults(_ref3){let{movies}=_ref3;return/*#__PURE__*/_jsxs(\"p\",{className:\"num-results\",children:[\"Found \",/*#__PURE__*/_jsx(\"strong\",{children:movies.length}),\" results\"]});}function Search(_ref4){let{query,setQuery}=_ref4;const inputElement=useRef(null);useKey(\"Enter\",function(){if(document.activeElement===inputElement.current)return;inputElement.current.focus();setQuery(\"\");});return/*#__PURE__*/_jsx(\"input\",{className:\"search\",type:\"text\",placeholder:\"Search movies...\",value:query,onChange:e=>setQuery(e.target.value),ref:inputElement});}function Main(_ref5){let{children}=_ref5;return/*#__PURE__*/_jsx(\"main\",{className:\"main\",children:children});}function MovieList(_ref6){let{movies,onSelectMovie}=_ref6;return/*#__PURE__*/_jsx(\"ul\",{className:\"list list-movies\",children:movies===null||movies===void 0?void 0:movies.map(movie=>/*#__PURE__*/_jsx(Movie,{movie:movie,onSelectMovie:onSelectMovie},movie.imdbID))});}function Movie(_ref7){let{movie,onSelectMovie}=_ref7;return/*#__PURE__*/_jsxs(\"li\",{onClick:()=>onSelectMovie(movie.imdbID),children:[/*#__PURE__*/_jsx(\"img\",{src:movie.Poster,alt:`${movie.Title} poster`}),/*#__PURE__*/_jsx(\"h3\",{children:movie.Title}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDDD3\"}),/*#__PURE__*/_jsx(\"span\",{children:movie.Year})]})})]},movie.imdbID);}function Box(_ref8){let{children}=_ref8;const[isOpen,setIsOpen]=useState(true);return/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-toggle\",onClick:()=>setIsOpen(open=>!open),children:isOpen?\"‚Äì\":\"+\"}),isOpen&&children]});}function MovieDetails(_ref9){var _watched$find;let{selectedId,onCloseMovie,onAddWatched,watched}=_ref9;const[movie,setMovie]=useState({});const[isLoading,setIsLoading]=useState(false);const[userRating,setUserRating]=useState(0);const countRef=useRef(0);useEffect(()=>{if(userRating)countRef.current=countRef.current++;},[userRating]);const isWatched=watched.map(movie=>movie.imdbID).includes(selectedId);const watchedUserRating=(_watched$find=watched.find(movie=>movie.imdbID===selectedId))===null||_watched$find===void 0?void 0:_watched$find.userRating;const{Title:title,Year:year,Poster:poster,Runtime:runtime,imdbRating,Plot:plot,Released:released,Actors:actors,Director:director,Genre:genre}=movie;function handleAdd(){const newWatchedMovie={imdbID:selectedId,title,year,poster,imdbRating:Number(imdbRating),runtime:Number(runtime.split(\" \").at(0)),userRating,countRatingDecisions:countRef.current};onAddWatched(newWatchedMovie);onCloseMovie();}useKey(\"Escape\",onCloseMovie);useEffect(()=>{async function getMovieDetails(){setIsLoading(true);const res=await fetch(`https://www.omdbapi.com/?apikey=${KEY}&i=${selectedId}`);const data=await res.json();setMovie(data);setIsLoading(false);}getMovieDetails();},[selectedId]);useEffect(()=>{if(!title)return;document.title=`Movie | ${title}`;return function(){document.title=\"TeFlix - Movie Rating Central\";};},[title]);return/*#__PURE__*/_jsx(\"div\",{className:\"details\",children:isLoading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-back\",onClick:onCloseMovie,children:\"\\u2190\"}),/*#__PURE__*/_jsx(\"img\",{src:poster,alt:`Poster of ${movie} movie`}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-overview\",children:[/*#__PURE__*/_jsx(\"h2\",{children:title}),/*#__PURE__*/_jsxs(\"p\",{children:[released,\" \\u2022 \",runtime]}),/*#__PURE__*/_jsx(\"p\",{children:genre}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u2B50\"}),imdbRating,\" IMDB rating\"]})]})]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"rating\",children:!isWatched?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(StarRating,{maxRating:10,size:24,onSetRating:setUserRating}),userRating>0&&/*#__PURE__*/_jsx(\"button\",{className:\"btn-add\",onClick:handleAdd,children:\"+ Add to list\"})]}):/*#__PURE__*/_jsxs(\"p\",{children:[\"You rated this movie a \",watchedUserRating,\"/10! \"]})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"em\",{children:plot})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Starring \",actors]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Directed by \",director]})]})]})});}function WatchedSummary(_ref0){let{watched}=_ref0;const avgImdbRating=average(watched.map(movie=>movie.imdbRating));const avgUserRating=average(watched.map(movie=>movie.userRating));const avgRuntime=average(watched.map(movie=>movie.runtime));return/*#__PURE__*/_jsxs(\"div\",{className:\"summary\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Movies you watched\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"#\\uFE0F\\u20E3\"}),/*#__PURE__*/_jsxs(\"span\",{children:[watched.length,\" movies\"]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u2B50\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:avgImdbRating.toFixed(2)})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83C\\uDF1F\"}),/*#__PURE__*/_jsx(\"span\",{children:avgUserRating.toFixed(2)})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u23F3\"}),/*#__PURE__*/_jsxs(\"span\",{children:[avgRuntime,\" min\"]})]})]})]});}function WatchedMovieList(_ref1){let{watched,onDeleteWatched}=_ref1;return/*#__PURE__*/_jsx(\"ul\",{className:\"list\",children:watched.map(movie=>/*#__PURE__*/_jsx(WatchedMovie,{movie:movie,onDeleteWatched:onDeleteWatched},movie.imdbID))});}function WatchedMovie(_ref10){let{movie,onDeleteWatched}=_ref10;return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"img\",{src:movie.poster,alt:`${movie.title} poster`}),/*#__PURE__*/_jsx(\"h3\",{children:movie.title}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u2B50\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:movie.imdbRating})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83C\\uDF1F\"}),/*#__PURE__*/_jsx(\"span\",{children:movie.userRating})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u23F3\"}),/*#__PURE__*/_jsxs(\"span\",{children:[movie.runtime,\" min\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-delete\",onClick:()=>onDeleteWatched(movie.imdbID),children:\"X\"})]})]});}","map":{"version":3,"names":["useEffect","useState","useRef","StarRating","useMovies","useLocalStorageState","useKey","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","average","arr","reduce","acc","cur","i","length","KEY","process","env","REACT_APP_IMDB_API_KEY","App","query","setQuery","selectedId","setSelectedId","movies","isLoading","error","watched","setWatched","handleSelectMovie","id","handleCloseMovie","handleAddWatched","movie","handleDeleteWatched","filter","imdbID","children","NavBar","Search","NumResults","Main","Box","Loader","MovieList","onSelectMovie","ErrorMessage","message","MovieDetails","onCloseMovie","onAddWatched","WatchedSummary","WatchedMovieList","onDeleteWatched","className","_ref","_ref2","Logo","role","_ref3","_ref4","inputElement","document","activeElement","current","focus","type","placeholder","value","onChange","e","target","ref","_ref5","_ref6","map","Movie","_ref7","onClick","src","Poster","alt","Title","Year","_ref8","isOpen","setIsOpen","open","_ref9","_watched$find","setMovie","setIsLoading","userRating","setUserRating","countRef","isWatched","includes","watchedUserRating","find","title","year","poster","Runtime","runtime","imdbRating","Plot","plot","Released","released","Actors","actors","Director","director","Genre","genre","handleAdd","newWatchedMovie","Number","split","at","countRatingDecisions","getMovieDetails","res","fetch","data","json","maxRating","size","onSetRating","_ref0","avgImdbRating","avgUserRating","avgRuntime","toFixed","_ref1","WatchedMovie","_ref10"],"sources":["C:/Users/mkell/bootcamp/usepopcorn/src/App.js"],"sourcesContent":["import { useEffect, useState, useRef } from \"react\";\nimport StarRating from \"./StarRating\";\nimport { useMovies } from \"./useMovies\";\nimport { useLocalStorageState } from \"./useLocalStorageState\";\nimport { useKey } from \"./useKey\";\n\nconst average = (arr) =>\n  arr.reduce((acc, cur, i, arr) => acc + cur / arr.length, 0);\n\nconst KEY = process.env.REACT_APP_IMDB_API_KEY;\n\nexport default function App() {\n  const [query, setQuery] = useState(\"\");\n  const [selectedId, setSelectedId] = useState(null);\n  const { movies, isLoading, error } = useMovies(query);\n\n  const [watched, setWatched] = useLocalStorageState([], \"watched\");\n\n  function handleSelectMovie(id) {\n    setSelectedId((selectedId) => (id === selectedId ? null : id));\n  }\n\n  function handleCloseMovie() {\n    setSelectedId(null);\n  }\n\n  function handleAddWatched(movie) {\n    setWatched((watched) => [...watched, movie]);\n  }\n\n  function handleDeleteWatched(id) {\n    setWatched((watched) => watched.filter((movie) => movie.imdbID !== id));\n  }\n\n  return (\n    <>\n      <NavBar>\n        <Search query={query} setQuery={setQuery} />\n        <NumResults movies={movies} />\n      </NavBar>\n\n      <Main>\n        <Box>\n          {isLoading && <Loader />}\n          {!isLoading && !error && (\n            <MovieList movies={movies} onSelectMovie={handleSelectMovie} />\n          )}\n          {error && <ErrorMessage message={error} />}\n        </Box>\n        <Box>\n          {selectedId ? (\n            <MovieDetails\n              selectedId={selectedId}\n              onCloseMovie={handleCloseMovie}\n              onAddWatched={handleAddWatched}\n              watched={watched}\n            />\n          ) : (\n            <>\n              <WatchedSummary watched={watched} />\n              <WatchedMovieList\n                watched={watched}\n                onDeleteWatched={handleDeleteWatched}\n              />\n            </>\n          )}\n        </Box>\n      </Main>\n    </>\n  );\n}\n\nfunction Loader() {\n  return <p className=\"loader\">Loading...</p>;\n}\n\nfunction ErrorMessage({ message }) {\n  return (\n    <p className=\"error\">\n      <span>!!</span>\n      {message}\n    </p>\n  );\n}\nfunction NavBar({ children }) {\n  return (\n    <nav className=\"nav-bar\">\n      <Logo />\n      {children}\n    </nav>\n  );\n}\n\nfunction Logo() {\n  return (\n    <div className=\"logo\">\n      <span role=\"img\">üçø</span>\n      <h1>TeFlix - Movie Rating</h1>\n    </div>\n  );\n}\n\nfunction NumResults({ movies }) {\n  return (\n    <p className=\"num-results\">\n      Found <strong>{movies.length}</strong> results\n    </p>\n  );\n}\n\nfunction Search({ query, setQuery }) {\n  const inputElement = useRef(null);\n\n  useKey(\"Enter\", function () {\n    if (document.activeElement === inputElement.current) return;\n\n    inputElement.current.focus();\n    setQuery(\"\");\n  });\n\n  return (\n    <input\n      className=\"search\"\n      type=\"text\"\n      placeholder=\"Search movies...\"\n      value={query}\n      onChange={(e) => setQuery(e.target.value)}\n      ref={inputElement}\n    />\n  );\n}\n\nfunction Main({ children }) {\n  return <main className=\"main\">{children}</main>;\n}\n\nfunction MovieList({ movies, onSelectMovie }) {\n  return (\n    <ul className=\"list list-movies\">\n      {movies?.map((movie) => (\n        <Movie movie={movie} key={movie.imdbID} onSelectMovie={onSelectMovie} />\n      ))}\n    </ul>\n  );\n}\n\nfunction Movie({ movie, onSelectMovie }) {\n  return (\n    <li key={movie.imdbID} onClick={() => onSelectMovie(movie.imdbID)}>\n      <img src={movie.Poster} alt={`${movie.Title} poster`} />\n      <h3>{movie.Title}</h3>\n      <div>\n        <p>\n          <span>üóì</span>\n          <span>{movie.Year}</span>\n        </p>\n      </div>\n    </li>\n  );\n}\n\nfunction Box({ children }) {\n  const [isOpen, setIsOpen] = useState(true);\n\n  return (\n    <div className=\"box\">\n      <button className=\"btn-toggle\" onClick={() => setIsOpen((open) => !open)}>\n        {isOpen ? \"‚Äì\" : \"+\"}\n      </button>\n      {isOpen && children}\n    </div>\n  );\n}\n\nfunction MovieDetails({ selectedId, onCloseMovie, onAddWatched, watched }) {\n  const [movie, setMovie] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [userRating, setUserRating] = useState(0);\n\n  const countRef = useRef(0);\n\n  useEffect(() => {\n    if (userRating) countRef.current = countRef.current++;\n  }, [userRating]);\n\n  const isWatched = watched.map((movie) => movie.imdbID).includes(selectedId);\n  const watchedUserRating = watched.find(\n    (movie) => movie.imdbID === selectedId\n  )?.userRating;\n\n  const {\n    Title: title,\n    Year: year,\n    Poster: poster,\n    Runtime: runtime,\n    imdbRating,\n    Plot: plot,\n    Released: released,\n    Actors: actors,\n    Director: director,\n    Genre: genre,\n  } = movie;\n\n  function handleAdd() {\n    const newWatchedMovie = {\n      imdbID: selectedId,\n      title,\n      year,\n      poster,\n      imdbRating: Number(imdbRating),\n      runtime: Number(runtime.split(\" \").at(0)),\n      userRating,\n      countRatingDecisions: countRef.current,\n    };\n    onAddWatched(newWatchedMovie);\n    onCloseMovie();\n  }\n\n  useKey(\"Escape\", onCloseMovie);\n\n  useEffect(() => {\n    async function getMovieDetails() {\n      setIsLoading(true);\n      const res = await fetch(\n        `https://www.omdbapi.com/?apikey=${KEY}&i=${selectedId}`\n      );\n      const data = await res.json();\n      setMovie(data);\n      setIsLoading(false);\n    }\n    getMovieDetails();\n  }, [selectedId]);\n\n  useEffect(() => {\n    if (!title) return;\n    document.title = `Movie | ${title}`;\n\n    return function () {\n      document.title = \"TeFlix - Movie Rating Central\";\n    };\n  }, [title]);\n\n  return (\n    <div className=\"details\">\n      {isLoading ? (\n        <Loader />\n      ) : (\n        <>\n          <header>\n            <button className=\"btn-back\" onClick={onCloseMovie}>\n              &larr;\n            </button>\n            <img src={poster} alt={`Poster of ${movie} movie`} />\n            <div className=\"details-overview\">\n              <h2>{title}</h2>\n              <p>\n                {released} &bull; {runtime}\n              </p>\n              <p>{genre}</p>\n              <p>\n                <span>‚≠ê</span>\n                {imdbRating} IMDB rating\n              </p>\n            </div>\n          </header>\n          <section>\n            <div className=\"rating\">\n              {!isWatched ? (\n                <>\n                  <StarRating\n                    maxRating={10}\n                    size={24}\n                    onSetRating={setUserRating}\n                  />\n\n                  {userRating > 0 && (\n                    <button className=\"btn-add\" onClick={handleAdd}>\n                      + Add to list\n                    </button>\n                  )}\n                </>\n              ) : (\n                <p>You rated this movie a {watchedUserRating}/10! </p>\n              )}\n            </div>\n            <p>\n              <em>{plot}</em>\n            </p>\n            <p>Starring {actors}</p>\n            <p>Directed by {director}</p>\n          </section>\n        </>\n      )}\n    </div>\n  );\n}\n\nfunction WatchedSummary({ watched }) {\n  const avgImdbRating = average(watched.map((movie) => movie.imdbRating));\n  const avgUserRating = average(watched.map((movie) => movie.userRating));\n  const avgRuntime = average(watched.map((movie) => movie.runtime));\n\n  return (\n    <div className=\"summary\">\n      <h2>Movies you watched</h2>\n      <div>\n        <p>\n          <span>#Ô∏è‚É£</span>\n          <span>{watched.length} movies</span>\n        </p>\n        <p>\n          <span>‚≠êÔ∏è</span>\n          <span>{avgImdbRating.toFixed(2)}</span>\n        </p>\n        <p>\n          <span>üåü</span>\n          <span>{avgUserRating.toFixed(2)}</span>\n        </p>\n        <p>\n          <span>‚è≥</span>\n          <span>{avgRuntime} min</span>\n        </p>\n      </div>\n    </div>\n  );\n}\n\nfunction WatchedMovieList({ watched, onDeleteWatched }) {\n  return (\n    <ul className=\"list\">\n      {watched.map((movie) => (\n        <WatchedMovie\n          movie={movie}\n          key={movie.imdbID}\n          onDeleteWatched={onDeleteWatched}\n        />\n      ))}\n    </ul>\n  );\n}\n\nfunction WatchedMovie({ movie, onDeleteWatched }) {\n  return (\n    <li>\n      <img src={movie.poster} alt={`${movie.title} poster`} />\n      <h3>{movie.title}</h3>\n      <div>\n        <p>\n          <span>‚≠êÔ∏è</span>\n          <span>{movie.imdbRating}</span>\n        </p>\n        <p>\n          <span>üåü</span>\n          <span>{movie.userRating}</span>\n        </p>\n        <p>\n          <span>‚è≥</span>\n          <span>{movie.runtime} min</span>\n        </p>\n\n        <button\n          className=\"btn-delete\"\n          onClick={() => onDeleteWatched(movie.imdbID)}\n        >\n          X\n        </button>\n      </div>\n    </li>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}